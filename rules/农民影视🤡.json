{"last_chapter_rule":"js:\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.numList')[0];\nvar list = pdfa(conts, 'body&&a');\nvar title = pdfh(list[list.length, 0], 'a&&Text');\nsetResult(\"更新至: \" + title);","pageList":[{"col_type":"movie_3","name":"lazy","path":"lazy","rule":"var lazy = $('').lazyRule((playBtn, MY_HOME) => {\n    try {\n        let from = input.split(\"#\")[1];\n        var jss = pdfh(fetch(playBtn), '.detailPosterIntro&&script,2&&src')\n        log(fetch(jss))\n        try {\n            var js = fetch(jss).match(/this.Path=(.*?);/)[1].split('\"')[1]\n        } catch (e) {\n            var js = eval(fetch(jss).match(/eval(.*)/)[1]).match(/this.Path=(.*?);/)[1].split('\"')[1]\n        }\n        if (!js.startsWith(\"http\")) {\n            js = MY_HOME + '/' + js\n        }\n        //log(js)\n\n        var jx = request(js + from + '.js').match(/src=\"(.*?)'/)[1]\n        var urls = jx + input\n        // log(urls)\n        if (from.includes('m3u8')) {\n            var url = request(urls).match(/url.*?'(.*?)'/)[1];\n            return url + '#isVideo=true#';\n        }\n        var html = fetch(urls, {\n            headers: {\n                'Referer': playBtn\n            }\n        });\n        var urll = pdfh(html, 'script,-1&&Html');\n        log(urll)\n        if (urll.startsWith(\"eval\")) { \n            urll = eval(urll.match(/eval(.*)/)[1])\n        }else\n        if (urll.includes(\"switch\")) { \n            urll = urll\n        }else{\n            urll = eval(urll.match(/var[\\s\\S]*?;/)[0]);\n}        \n        try {\n            var list = urll.match(/http.*?=/g);\n            var list = list.filter(data => {\n                return !data.match(/mor/)\n            });\n            var url = list.map(data => fetch(data + input, {}).match(/video src=\"(.*?)\"/)[1]);\n\n            return JSON.stringify({\n                urls: url\n            });\n        } catch (e) {}\n        log(lines)\n        /*\n                var list = Object.values(lines);\n                var url = list.map(data => fetch(data + input, {}).match(/video src=\"(.*?)\"/)[1]);\n                var name = Object.keys(lines);\n                return JSON.stringify({\n                    names: name,\n                    urls: url\n                });\n        */\n    } catch (e) {\n        function x5rule(jiexurl) {\n            showLoading(\"动态解析规则中，请稍候\");\n            var video = 'webRule://' + jiexurl + '@' + $.toString(() => {\n                //fba.log(fba.getUrls());\n                var urls = _getUrls();\n                if (window.__count == null || window.__count == undefined) {\n                    window.__count = 0\n                }\n                if (window.__count >= 10) {\n                    return location.href\n                }\n                window.__count = window.__count + 1;\n                if (window.__count > 0 && window.__count != null && window.__count != undefined) {\n                    fba.log('日志检索第' + window.__count + '次');\n                    for (var i in urls) {\n                        if (urls[i].match(/\\?url=|\\.m3u8|video_mp4|\\.flv|\\.mp4/) && !urls[i].match(/mor/)) {\n                            var url = request(urls[i]).match(/video src=\"(.*?)\"/)[1];\n                            //fy_bridge_app.log(urls[i]);\n                            if (url != '') {\n                                return url + '#isVideo=true#'\n                            } else {\n                                return urls[i]\n                            }\n                        }\n                    } //end for i\n                }\n            });\n            return video\n        }\n        return x5rule(urls);\n    }\n}, playBtn, MY_HOME);"}],"title":"农民影视🤡","author":"缘分","version":20240430,"type":"video","url":"https://www.wwgz.cn/vod-list-id-fyclass-pg-fypage-order--by-fysort-class-0-year-fyyear-letter--area-fyarea-lang-.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&短剧","class_url":"1&2&3&4&26","area_name":"全部\n&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&西班牙&俄罗斯&其它","area_url":"&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&西班牙&俄罗斯&其它","sort_name":"时间&人气&评分","year_name":"全部&2023&2022&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1999&1998&1997&1996&1995&1994&1993&1992&1991&1990&1989&1988&1987&1986&1985&1984&1983&1982&1981&1980&1979&1978&1977&1976&1975&1974&1973&1972&1971&1970&1969&1968&1967&1966&1965&1964&1963&1962&1961&1960&1959&1958&1957&1956&1955&1954&1953&1952&1951&1950&1949&1948&1947&1946&1945&1944&1943&1942&1941&1940&1939&1938&1937&1936&1935&1934&1933&1932&1931&1930&1929&1928&1927&1926&1925&1924&1923&1922&1921&1920&1919&1918&1917&1916&1915&1914&1913&1912&1911&1910&1909&1908&1907&1906&1905&1904&1903&1902&1901&1900","sort_url":"time&hits&score","year_url":"0&2023&2022&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1999&1998&1997&1996&1995&1994&1993&1992&1991&1990&1989&1988&1987&1986&1985&1984&1983&1982&1981&1980&1979&1978&1977&1976&1975&1974&1973&1972&1971&1970&1969&1968&1967&1966&1965&1964&1963&1962&1961&1960&1959&1958&1957&1956&1955&1954&1953&1952&1951&1950&1949&1948&1947&1946&1945&1944&1943&1942&1941&1940&1939&1938&1937&1936&1935&1934&1933&1932&1931&1930&1929&1928&1927&1926&1925&1924&1923&1922&1921&1920&1919&1918&1917&1916&1915&1914&1913&1912&1911&1910&1909&1908&1907&1906&1905&1904&1903&1902&1901&1900","find_rule":"js:\nvar d = new Array()\nvar html = getResCode();\nvar list = pdfa(html, '.resize_list&&li')\nvar list = list.filter(data => {\n        return !data.match(/我和我的家乡/)\n    });\ntry {\n    list.forEach(data => {\n        d.push({\n            title: pdfh(data, 'a&&title'),\n            desc: pdfh(data, '.emHot&&Text'),\n            img: pd(data, 'img&&data-echo') + '@Referer=',\n            url: pd(data, 'a&&href') + \"#immersiveTheme#\",\n            col_type: '',\n        })\n    })\n} catch (e) {}\nsetResult(d)","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), '#data_list&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], '.sTit&&Text'),\n            desc: parseDomForHtml(list[j], '.sStyle&&Text'),\n            content: parseDomForHtml(list[j],\n                '.sDes&&Text'),\n            pic_url: parseDom(list[j], '.lazyload&&data-src') + '@Referer=',\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.wwgz.cn/index.php?m=vod-search&wd=**","group":"#缘分","detail_col_type":"movie_1_vertical_pic_blur","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar playBtn = pd(html, '.page-btn&&a&&href');\nvar playhtml = request(playBtn);\nvar arts = pdfa(playhtml, '.hd&&li');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(pdfh(arts[i], 'Text'))\n}\neval(pdfh(playhtml, '.detailPosterIntro&&script&&Html'));\nvar conts = mac_url.split(\"$$$\");\nvar lists = [];\nfor (var i in conts) {\n    lists.push(pdfh(conts[i], 'Text').split(\"#\"))\n}\ntry {\n    var 主演 = parseDomForHtml(html, '.desc_item,1&&Text');\n\n    var 类型 = parseDomForHtml(html, '.desc_item,2&&Text');\n\n    var 更新 = parseDomForHtml(html, '.desc_item&&Text');\n\n    var 导演 = parseDomForHtml(html, '');\n\n    var 图片 = parseDom(html, '.page-hd&&img&&src');\n\n    var 简介 = parseDomForHtml(html, '.detail-con&&Text').replace('简 介：', '');\n\n    var 图片链接 = parseDom(html, 'img&&src');\n\n    var Color = \"#f13b66a\";\n    var Color1 = \"#098AC1\";\n\n    function getHead(title) {\n        return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n    }\n    let line_model = 8;\n    let line_type_model = 'blank_block';\n    d.push({\n        title: 主演 + '\\n' + 类型,\n        desc: 更新 + '\\n' + 导演,\n        pic_url: 图片,\n        url: 图片,\n        col_type: 'movie_1_vertical_pic_blur',\n        extra: {\n            gradient: true\n        }\n    });\n\n    d.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n        url: 'hiker://empty#' + '\\n' + 简介 + '#noHistory##noRecordHistory#' + `@rule=js: var d = [];d.push({title:'影片简介：'+ MY_URL.split('#')[1],col_type: 'long_text'}); setResult(d);`,\n        col_type: 'text_1'\n    });\n} catch (e) {\n    d.push({\n        img: pd(html,\n            'img&&src') + '@Referer=',\n        url: MY_URL,\n        col_type: 'movie_1_vertical_pic_blur',\n        extra: {\n            gradient: true\n        }\n    });\n}\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: $(\"#noLoading#noHistory#\").lazyRule(() => {\n            let conf = getVar('shsort');\n            if (conf == '1') {\n                putVar('shsort', '0');\n            } else {\n                putVar('shsort', '1')\n            };\n            refreshPage();\n            return 'toast://切换排序成功'\n        }),\n\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = $(\"#noLoading#noHistory#\").lazyRule((vari, i) => {\n            putVar(vari, i);\n            refreshPage(false);\n            return 'toast://切换成功！'\n        }, vari, i);\nvar title = getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i]\nif(title != `““””`) {\n        d.push({\n            title: title,\n            url: url,\n            col_type: 'flex_button'\n        })\n      }\n    }\n}\n\neval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: list[j].split(\"$\")[0].replace(/第(\\d+)集/, '$1').replace(/第(\\d+)期/, '$1'),\n            url: list[j].split(\"$\")[1] + '#' + mac_from.split(\"$$$\")[index] + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2',\n            extra: {\n                referer: playBtn,\n                js: ` document.querySelector(\".line\").click()`,\n                jsLoadingInject: true,\n                blockRules: ['*.js', '*.css', '*mor.php*', '*.ico'],\n                id: list[j].split(\"$\")[1]\n\n            }\n        });\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'blank_block'\n});\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    title: '‘‘’’<small><font color=#20b2aa>数据资源收集于网络，海阔不提供任何资源！</font></small>',\n    desc: '‘‘’’<small><font color=#ff7f50>本规则仅限学习与交流，请导入后24小时内删除，请勿传播！</font></small>',\n    url: 'hiker://empty',\n    col_type: 'text_center_1',\n    extra: {\n        lineVisible: false\n    }\n});\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((playBtn, MY_HOME) => {\\n    try {\\n        let from = input.split(\\\"#\\\")[1];\\n        var jss = pdfh(fetch(playBtn), '.detailPosterIntro&&script,2&&src')\\n        log(fetch(jss))\\n        try {\\n            var js = fetch(jss).match(/this.Path=(.*?);/)[1].split('\\\"')[1]\\n        } catch (e) {\\n            var js = eval(fetch(jss).match(/eval(.*)/)[1]).match(/this.Path=(.*?);/)[1].split('\\\"')[1]\\n        }\\n        if (!js.startsWith(\\\"http\\\")) {\\n            js = MY_HOME + '/' + js\\n        }\\n        //log(js)\\n\\n        var jx = request(js + from + '.js').match(/src=\\\"(.*?)'/)[1]\\n        var urls = jx + input\\n        // log(urls)\\n        if (from.includes('m3u8')) {\\n            var url = request(urls).match(/url.*?'(.*?)'/)[1];\\n            return url + '#isVideo=true#';\\n        }\\n        var html = fetch(urls, {\\n            headers: {\\n                'Referer': playBtn\\n            }\\n        });\\n        var urll = pdfh(html, 'script,-1&&Html');\\n        log(urll)\\n        if (urll.startsWith(\\\"eval\\\")) { \\n            urll = eval(urll.match(/eval(.*)/)[1])\\n        }else\\n        if (urll.includes(\\\"switch\\\")) { \\n            urll = urll\\n        }else{\\n            urll = eval(urll.match(/var[\\\\s\\\\S]*?;/)[0]);\\n}        \\n        try {\\n            var list = urll.match(/http.*?=/g);\\n            var list = list.filter(data => {\\n                return !data.match(/mor/)\\n            });\\n            var url = list.map(data => fetch(data + input, {}).match(/video src=\\\"(.*?)\\\"/)[1]);\\n\\n            return JSON.stringify({\\n                urls: url\\n            });\\n        } catch (e) {}\\n        log(lines)\\n        /*\\n                var list = Object.values(lines);\\n                var url = list.map(data => fetch(data + input, {}).match(/video src=\\\"(.*?)\\\"/)[1]);\\n                var name = Object.keys(lines);\\n                return JSON.stringify({\\n                    names: name,\\n                    urls: url\\n                });\\n        */\\n    } catch (e) {\\n        function x5rule(jiexurl) {\\n            showLoading(\\\"动态解析规则中，请稍候\\\");\\n            var video = 'webRule://' + jiexurl + '@' + $.toString(() => {\\n                //fba.log(fba.getUrls());\\n                var urls = _getUrls();\\n                if (window.__count == null || window.__count == undefined) {\\n                    window.__count = 0\\n                }\\n                if (window.__count >= 10) {\\n                    return location.href\\n                }\\n                window.__count = window.__count + 1;\\n                if (window.__count > 0 && window.__count != null && window.__count != undefined) {\\n                    fba.log('日志检索第' + window.__count + '次');\\n                    for (var i in urls) {\\n                        if (urls[i].match(/\\\\?url=|\\\\.m3u8|video_mp4|\\\\.flv|\\\\.mp4/) && !urls[i].match(/mor/)) {\\n                            var url = request(urls[i]).match(/video src=\\\"(.*?)\\\"/)[1];\\n                            //fy_bridge_app.log(urls[i]);\\n                            if (url != '') {\\n                                return url + '#isVideo=true#'\\n                            } else {\\n                                return urls[i]\\n                            }\\n                        }\\n                    } //end for i\\n                }\\n            });\\n            return video\\n        }\\n        return x5rule(urls);\\n    }\\n}, playBtn, MY_HOME);\"}]","proxy":"","icon":"https://www.wwgz.cn/favicon.ico"}